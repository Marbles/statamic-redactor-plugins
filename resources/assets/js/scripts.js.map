{"version":3,"sources":["counter.js","definedlinks.js","fontcolor.js","fontfamily.js","fontsize.js","fullscreen.js","properties.js","scriptbuttons.js","uploadcare.js","video.js","custom.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrEA","file":"scripts.js","sourcesContent":["// Word counter\n// Adapted from offical Redactor site\n// https://imperavi.com/redactor/plugins/counter/\n\nif (!RedactorPlugins) var RedactorPlugins = {};\n \nRedactorPlugins.counter = function()\n{\n    return {\n        init: function()\n        {        \n            // As have no access to init of Redactor in Craft add callback from plugin            \n            if (typeof this.opts.callbacks.counter === 'undefined')\n            {\n               this.opts.callbacks.counter = function(data)\n               {\n                   console.log(data);\n               }\n            }\n\n            var button = this.button.add('counter-button', 'Word count');\n            this.button.addCallback(button, this.counter.showCount)\n\n            this.core.editor().on('keyup.redactor-plugin-counter', $.proxy(this.counter.count, this));\n        },\n        count: function()\n        {\n            var words = 0, characters = 0, spaces = 0;\n            var html = this.code.get();\n\n            var text = html.replace(/<\\/(.*?)>/gi, ' ');\n            text = text.replace(/<(.*?)>/gi, '');\n            text = text.replace(/\\t/gi, '');\n            text = text.replace(/\\n/gi, ' ');\n            text = text.replace(/\\r/gi, ' ');\n            text = text.replace(/\\u200B/g, '');\n            text = $.trim(text);\n\n            if (text !== '')\n            {\n                var arrWords = text.split(/\\s+/);\n                var arrSpaces = text.match(/\\s/g);\n\n                words = (arrWords) ? arrWords.length : 0;\n                spaces = (arrSpaces) ? arrSpaces.length : 0;\n\n                characters = text.length;\n\n            }\n\n            this.core.callback('counter', { words: words, characters: characters, spaces: spaces });\n\n            return { words: words, characters: characters, spaces: spaces };\n        },\n        showCount: function()\n        {\n            var data = this.counter.count();\n            console.log('Words: ' + data.words);\n            console.log('Characters: ' + data.characters);\n            console.log('Characters w/o spaces: ' + (data.characters - data.spaces));\n            \n            // open modal\n            this.modal.addTemplate('counterTemplate', this.counter.getTemplate());\n            this.modal.load('counterTemplate', 'Word counter', 500);\n \n            var button = this.modal.getActionButton();\n            button.on('click', this.counter.insert);\n \n            this.modal.show();\n        },\n        getTemplate: function()\n        {\n            var data = this.counter.count();\n            \n            return String()\n            + '<div class=\"modal-section\" id=\"redactor-modal-counter\">'\n                + '<section><table class=\"data fullwidth\">'\n                    + '<tr>'\n                    + '<th>Words</th><td>' + data.words + '</td>'\n                    + '</tr><tr>'\n                    + '<th>Characters</th><td>' + data.characters + '</td>'\n                    + '</tr><tr>'\n                    + '<th>Characters without spaces</th><td>' + (data.characters - data.spaces) + '</td>'\n                    + '</tr>'\n                + '</table></section>'\n                + '<section>'\n                    + '<button id=\"redactor-modal-button-cancel\">Close</button>'\n                + '</section>'\n            + '</div>';\n        }\n    };\n};","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.definedlinks = function()\n{\n\treturn {\n\t\tinit: function()\n\t\t{\n\t\t\tif (!this.opts.definedLinks)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.modal.addCallback('link', $.proxy(this.definedlinks.load, this));\n\n\t\t},\n\t\tload: function()\n\t\t{\n\t\t\tvar $section = $('<section />');\n\t\t\tvar $select = $('<select id=\"redactor-defined-links\" />');\n\n\t\t\t$section.append($select);\n\t\t\tthis.modal.getModal().prepend($section);\n\n\t\t\tthis.definedlinks.storage = {};\n\n\t\t\tvar url = (this.opts.definedlinks) ? this.opts.definedlinks : this.opts.definedLinks;\n\t\t\t$.getJSON(url, $.proxy(function(data)\n\t\t\t{\n\t\t\t\t$.each(data, $.proxy(function(key, val)\n\t\t\t\t{\n\t\t\t\t\tthis.definedlinks.storage[key] = val;\n\t\t\t\t\t$select.append($('<option>').val(key).html(val.name));\n\n\t\t\t\t}, this));\n\n\t\t\t\t$select.on('change', $.proxy(this.definedlinks.select, this));\n\n\t\t\t}, this));\n\n\t\t},\n\t\tselect: function(e)\n\t\t{\n\t\t\tvar oldText = $.trim($('#redactor-link-url-text').val());\n\n\t\t\tvar key = $(e.target).val();\n\t\t\tvar name = '', url = '';\n\t\t\tif (key !== 0)\n\t\t\t{\n\t\t\t\tname = this.definedlinks.storage[key].name;\n\t\t\t\turl = this.definedlinks.storage[key].url;\n\t\t\t}\n\n\t\t\t$('#redactor-link-url').val(url);\n\n\t\t\tif (oldText === '')\n\t\t\t{\n\t\t\t\t$('#redactor-link-url-text').val(name);\n\t\t\t}\n\n\t\t}\n\t};\n};\n","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.fontcolor = function()\n{\n\treturn {\n\t\tinit: function()\n\t\t{\n\t\t\tvar colors = [\n\t\t\t\t'#ffffff', '#000000', '#eeece1', '#1f497d', '#4f81bd', '#c0504d', '#9bbb59', '#8064a2', '#4bacc6', '#f79646', '#ffff00',\n\t\t\t\t'#f2f2f2', '#7f7f7f', '#ddd9c3', '#c6d9f0', '#dbe5f1', '#f2dcdb', '#ebf1dd', '#e5e0ec', '#dbeef3', '#fdeada', '#fff2ca',\n\t\t\t\t'#d8d8d8', '#595959', '#c4bd97', '#8db3e2', '#b8cce4', '#e5b9b7', '#d7e3bc', '#ccc1d9', '#b7dde8', '#fbd5b5', '#ffe694',\n\t\t\t\t'#bfbfbf', '#3f3f3f', '#938953', '#548dd4', '#95b3d7', '#d99694', '#c3d69b', '#b2a2c7', '#b7dde8', '#fac08f', '#f2c314',\n\t\t\t\t'#a5a5a5', '#262626', '#494429', '#17365d', '#366092', '#953734', '#76923c', '#5f497a', '#92cddc', '#e36c09', '#c09100',\n\t\t\t\t'#7f7f7f', '#0c0c0c', '#1d1b10', '#0f243e', '#244061', '#632423', '#4f6128', '#3f3151', '#31859b',  '#974806', '#7f6000'\n\t\t\t];\n\n\t\t\tvar buttons = ['fontcolor', 'backcolor'];\n\n\t\t\tfor (var i = 0; i < 2; i++)\n\t\t\t{\n\t\t\t\tvar name = buttons[i];\n\n\t\t\t\tvar button = this.button.add(name, this.lang.get(name));\n\t\t\t\tvar $dropdown = this.button.addDropdown(button);\n\n\t\t\t\t$dropdown.width(242);\n\t\t\t\tthis.fontcolor.buildPicker($dropdown, name, colors);\n\n\t\t\t}\n\t\t},\n\t\tbuildPicker: function($dropdown, name, colors)\n\t\t{\n\t\t\tvar rule = (name == 'backcolor') ? 'background-color' : 'color';\n\n\t\t\tvar len = colors.length;\n\t\t\tvar self = this;\n\t\t\tvar func = function(e)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tself.fontcolor.set($(this).data('rule'), $(this).attr('rel'));\n\t\t\t};\n\n\t\t\tfor (var z = 0; z < len; z++)\n\t\t\t{\n\t\t\t\tvar color = colors[z];\n\n\t\t\t\tvar $swatch = $('<a rel=\"' + color + '\" data-rule=\"' + rule +'\" href=\"#\" style=\"float: left; font-size: 0; border: 2px solid #fff; padding: 0; margin: 0; width: 22px; height: 22px;\"></a>');\n\t\t\t\t$swatch.css('background-color', color);\n\t\t\t\t$swatch.on('click', func);\n\n\t\t\t\t$dropdown.append($swatch);\n\t\t\t}\n\n\t\t\tvar $elNone = $('<a href=\"#\" style=\"display: block; clear: both; padding: 5px; font-size: 12px; line-height: 1;\"></a>').html(this.lang.get('none'));\n\t\t\t$elNone.on('click', $.proxy(function(e)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t\tthis.fontcolor.remove(rule);\n\n\t\t\t}, this));\n\n\t\t\t$dropdown.append($elNone);\n\t\t},\n\t\tset: function(rule, type)\n\t\t{\n\t\t\tthis.inline.format('span', 'style', rule + ': ' + type + ';');\n\t\t},\n\t\tremove: function(rule)\n\t\t{\n\t\t\tthis.inline.removeStyleRule(rule);\n\t\t}\n\t};\n};","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.fontfamily = function()\n{\n\treturn {\n\t\tinit: function ()\n\t\t{\n\t\t\tvar fonts = [ 'Arial', 'Helvetica', 'Georgia', 'Times New Roman', 'Monospace' ];\n\t\t\tvar that = this;\n\t\t\tvar dropdown = {};\n\n\t\t\t$.each(fonts, function(i, s)\n\t\t\t{\n\t\t\t\tdropdown['s' + i] = { title: s, func: function() { that.fontfamily.set(s); }};\n\t\t\t});\n\n\t\t\tdropdown.remove = { title: 'Remove Font Family', func: that.fontfamily.reset };\n\n\t\t\tvar button = this.button.add('fontfamily', 'Change Font Family');\n\t\t\tthis.button.addDropdown(button, dropdown);\n\n\t\t},\n\t\tset: function (value)\n\t\t{\n\t\t\tthis.inline.format('span', 'style', 'font-family:' + value + ';');\n\t\t},\n\t\treset: function()\n\t\t{\n\t\t\tthis.inline.removeStyleRule('font-family');\n\t\t}\n\t};\n};","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.fontsize = function()\n{\n\treturn {\n\t\tinit: function()\n\t\t{\n\t\t\tvar fonts = [10, 11, 12, 14, 16, 18, 20, 24, 28, 30];\n\t\t\tvar that = this;\n\t\t\tvar dropdown = {};\n\n\t\t\t$.each(fonts, function(i, s)\n\t\t\t{\n\t\t\t\tdropdown['s' + i] = { title: s + 'px', func: function() { that.fontsize.set(s); } };\n\t\t\t});\n\n\t\t\tdropdown.remove = { title: 'Remove Font Size', func: that.fontsize.reset };\n\n\t\t\tvar button = this.button.add('fontsize', 'Change Font Size');\n\t\t\tthis.button.addDropdown(button, dropdown);\n\t\t},\n\t\tset: function(size)\n\t\t{\n\t\t\tthis.inline.format('span', 'style', 'font-size: ' + size + 'px;');\n\t\t},\n\t\treset: function()\n\t\t{\n\t\t\tthis.inline.removeStyleRule('font-size');\n\t\t}\n\t};\n};","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.fullscreen = function()\n{\n\treturn {\n\t\tinit: function()\n\t\t{\n\t\t\tthis.fullscreen.isOpen = false;\n\n\t\t\tvar button = this.button.add('fullscreen', 'Fullscreen');\n\t\t\tthis.button.addCallback(button, this.fullscreen.toggle);\n\n\t\t\tif (this.opts.fullscreen) this.fullscreen.toggle();\n\t\t},\n\t\tenable: function()\n\t\t{\n\t\t\tthis.button.changeIcon('fullscreen', 'normalscreen');\n\t\t\tthis.button.setActive('fullscreen');\n\t\t\tthis.fullscreen.isOpen = true;\n\n\t\t\tif (this.opts.toolbarExternal)\n\t\t\t{\n\t\t\t\tthis.fullscreen.toolcss = {};\n\t\t\t\tthis.fullscreen.boxcss = {};\n\t\t\t\tthis.fullscreen.toolcss.width = this.$toolbar.css('width');\n\t\t\t\tthis.fullscreen.toolcss.top = this.$toolbar.css('top');\n\t\t\t\tthis.fullscreen.toolcss.position = this.$toolbar.css('position');\n\t\t\t\tthis.fullscreen.boxcss.top = this.$box.css('top');\n\t\t\t}\n\n\t\t\tthis.fullscreen.height = this.$editor.height();\n\n\t\t\tif (this.opts.maxHeight) this.$editor.css('max-height', '');\n\t\t\tif (this.opts.minHeight) this.$editor.css('min-height', '');\n\n\t\t\tif (!this.$fullscreenPlaceholder) this.$fullscreenPlaceholder = $('<div/>');\n\t\t\tthis.$fullscreenPlaceholder.insertAfter(this.$box);\n\n\t\t\tthis.$box.appendTo(document.body);\n\n\t\t\tthis.$box.addClass('redactor-box-fullscreen');\n\t\t\t$('body, html').css('overflow', 'hidden');\n\n\t\t\tthis.fullscreen.resize();\n\t\t\t$(window).on('resize.redactor.fullscreen', $.proxy(this.fullscreen.resize, this));\n\t\t\t$(document).scrollTop(0, 0);\n\n\t\t\tthis.$editor.focus();\n\t\t\tthis.observe.load();\n\t\t},\n\t\tdisable: function()\n\t\t{\n\t\t\tthis.button.removeIcon('fullscreen', 'normalscreen');\n\t\t\tthis.button.setInactive('fullscreen');\n\t\t\tthis.fullscreen.isOpen = false;\n\n\t\t\t$(window).off('resize.redactor.fullscreen');\n\t\t\t$('body, html').css('overflow', '');\n\n\t\t\tthis.$box.insertBefore(this.$fullscreenPlaceholder);\n\t\t\tthis.$fullscreenPlaceholder.remove();\n\n\t\t\tthis.$box.removeClass('redactor-box-fullscreen').css({ width: 'auto', height: 'auto' });\n\n\t\t\tthis.code.sync();\n\n\t\t\tif (this.opts.toolbarExternal)\n\t\t\t{\n\t\t\t\tthis.$box.css('top', this.fullscreen.boxcss.top);\n\t\t\t\tthis.$toolbar.css({\n\t\t\t\t\t'width': this.fullscreen.toolcss.width,\n\t\t\t\t\t'top': this.fullscreen.toolcss.top,\n\t\t\t\t\t'position': this.fullscreen.toolcss.position\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (this.opts.minHeight) this.$editor.css('minHeight', this.opts.minHeight);\n\t\t\tif (this.opts.maxHeight) this.$editor.css('maxHeight', this.opts.maxHeight);\n\n\t\t\tthis.$editor.css('height', 'auto');\n\t\t\tthis.$editor.focus();\n\t\t\tthis.observe.load();\n\t\t},\n\t\ttoggle: function()\n\t\t{\n\t\t\tif (this.fullscreen.isOpen)\n\t\t\t{\n\t\t\t\tthis.fullscreen.disable();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.fullscreen.enable();\n\t\t\t}\n\t\t},\n\t\tresize: function()\n\t\t{\n\t\t\tif (!this.fullscreen.isOpen) return;\n\n\t\t\tvar toolbarHeight = this.$toolbar.height();\n\n\t\t\tvar height = $(window).height() - toolbarHeight;\n\t\t\tthis.$box.width($(window).width() - 2).height(height + toolbarHeight);\n\n\t\t\tif (this.opts.toolbarExternal)\n\t\t\t{\n\t\t\t\tthis.$toolbar.css({\n\t\t\t\t\t'top': '0px',\n\t\t\t\t\t'position': 'absolute',\n\t\t\t\t\t'width': '100%'\n\t\t\t\t});\n\n\t\t\t\tthis.$box.css('top', toolbarHeight + 'px');\n\t\t\t}\n\n\t\t\tthis.$editor.height(height - 14);\n\t\t}\n\t};\n};","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.properties = function()\n{\n\treturn {\n\t\tlangs: {\n\t\t\ten: {\n\t\t\t\t\"properties\": \"Properties\"\n\t\t\t}\n\t\t},\n\t\tblock: false,\n\t\tlabelStyle: {\n\t\t\t'position': 'absolute',\n\t\t\t'padding': '2px 5px',\n\t\t\t'line-height': 1,\n\t\t\t'border-radius': '5px',\n\t\t\t'font-size': '10px',\n\t\t\t'color': 'rgba(255, 255, 255, .9)',\n\t\t\t'z-index': 99\n\t\t},\n\t\tgetTemplate: function()\n\t\t{\n\t\t\t return String()\n\t\t\t + '<div class=\"modal-section\" id=\"redactor-modal-properties\">'\n\t\t\t \t+ '<section>'\n\t\t\t \t\t+ '<label id=\"modal-properties-id-label\">Id</label>'\n\t\t\t \t\t+ '<input type=\"text\" id=\"modal-properties-id\" />'\n\t\t\t \t+ '</section>'\n\t\t\t \t+ '<section>'\n\t\t\t\t \t+ '<label id=\"modal-properties-class-label\">Class</label>'\n\t\t\t\t \t+ '<input type=\"text\" id=\"modal-properties-class\" />'\n\t\t\t\t + '</section>'\n\t\t\t\t+ '<section>'\n\t\t\t\t\t+ '<button id=\"redactor-modal-button-action\">Save</button>'\n\t\t\t\t\t+ '<button id=\"redactor-modal-button-cancel\">Cancel</button>'\n\t\t\t\t+ '</section>'\n\t\t\t + '</div>';\n\t\t},\n\t\tsetup: function()\n\t\t{\n\t\t\tthis.opts.properties = (typeof this.opts.properties === 'undefined') ? {} : this.opts.properties;\n\t\t\tthis.opts.properties.id = (typeof this.opts.properties.id === 'undefined') ? true : this.opts.properties.id;\n\t\t\tthis.opts.properties.classname = (typeof this.opts.properties.classname === 'undefined') ? true : this.opts.properties.classname;\n\t\t\tthis.opts.properties.show = (typeof this.opts.properties.show === 'undefined') ? false : this.opts.properties.show;\n\n\t\t},\n\t\tinit: function()\n\t\t{\n\t\t\tif (this.opts.type === 'pre' || this.opts.type === 'inline')\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.properties.setup();\n\n\t\t\tthis.properties.createLabelId(this.properties.labelStyle);\n\t\t\tthis.properties.createLabelClass(this.properties.labelStyle);\n\n\t\t\tthis.properties.setEvents();\n\n\t\t\tvar button = this.button.add('properties', this.lang.get('properties'));\n\t\t\tthis.button.addCallback(button, this.properties.show);\n\n\t\t},\n\t\tshow: function()\n\t\t{\n\t\t\tthis.modal.addTemplate('properties', this.properties.getTemplate());\n\t\t\tthis.modal.load('properties', 'Properties', 600);\n\n\t\t\tvar button = this.modal.getActionButton().text('Save');\n\t\t\tbutton.on('click', this.properties.save);\n\n\t\t\tthis.properties.showId();\n\t\t\tthis.properties.showClass();\n\n\t\t\tthis.modal.show();\n\n\t\t},\n\t\tcreateLabelId: function(css)\n\t\t{\n\t\t\tif (!this.opts.properties.show && !this.opts.properties.id)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.properties.labelId = $('<span />').attr('id', 'redactor-properties-label-id-' + this.uuid).attr('title', 'ID').hide();\n\t\t\tthis.properties.labelId.css(css).css('background', 'rgba(229, 57, 143, .7)');\n\t\t\t$('body').append(this.properties.labelId);\n\n\t\t},\n\t\tcreateLabelClass: function(css)\n\t\t{\n\t\t\tif (!this.opts.properties.show && !this.opts.properties.classname)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.properties.labelClass = $('<span />').attr('id', 'redactor-properties-label-class-' + this.uuid).attr('title', 'class').hide();\n\t\t\tthis.properties.labelClass.css(css).css('background', 'rgba(61, 121, 242, .7)');\n\t\t\t$('body').append(this.properties.labelClass);\n\n\t\t},\n\t\tsetEvents: function()\n\t\t{\n\t\t\tthis.core.element().on('click.callback.redactor', this.properties.showOnClick);\n\t\t\t$(document).on('mousedown.redactor-properties', $.proxy(this.properties.hideOnBlur, this));\n\n\t\t\tthis.core.element().on('destroy.callback.redactor', $.proxy(function()\n\t\t\t{\n\t\t\t\t$(document).off('.redactor-properties');\n\n\t\t\t}, this));\n\t\t},\n\t\tshowId: function()\n\t\t{\n\t\t\tif (this.opts.properties.id)\n\t\t\t{\n\t\t\t\t$('#modal-properties-id-label').show();\n\t\t\t\t$('#modal-properties-id').show().val($(this.properties.block).attr('id'));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#modal-properties-id, #modal-properties-id-label').hide();\n\t\t\t}\n\t\t},\n\t\tshowClass: function()\n\t\t{\n\t\t\tif (this.opts.properties.classname)\n\t\t\t{\n\t\t\t\t$('#modal-properties-class-label').show();\n\t\t\t\t$('#modal-properties-class').show().val($(this.properties.block).attr('class'));\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('#modal-properties-class, #modal-properties-class-label').hide();\n\t\t\t}\n\t\t},\n\t\tsave: function()\n\t\t{\n\t\t\t// id\n\t\t\tif (this.opts.properties.id)\n\t\t\t{\n\t\t\t\tvar id = $('#modal-properties-id').val();\n\t\t\t\tif (typeof id === 'undefined' || id === '')\n\t\t\t\t{\n\t\t\t\t\tthis.block.removeAttr('id', this.properties.block);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.block.replaceAttr('id', id, this.properties.block);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// class\n\t\t\tif (this.opts.properties.classname)\n\t\t\t{\n\t\t\t\tvar classname = $('#modal-properties-class').val();\n\t\t\t\tif (typeof classname === 'undefined' || classname === '')\n\t\t\t\t{\n\t\t\t\t\tthis.block.removeAttr('class', this.properties.block);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tthis.block.replaceClass(classname, this.properties.block);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.modal.close();\n\t\t\tthis.properties.showOnClick(false);\n\n\t\t},\n\t\tshowOnClick: function(e)\n\t\t{\n\t\t\tif (e !== false)\n\t\t\t{\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\tvar zindex = (typeof this.fullscreen !== 'undefined' && this.fullscreen.isOpen) ? 1052 : 99;\n\n\t\t\tthis.properties.block = this.selection.block();\n\t\t\tif (!this.properties.block || !this.utils.isRedactorParent(this.properties.block) || this.utils.isCurrentOrParent(['figure', 'li']))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar pos = $(this.properties.block).offset();\n\n\t\t\tvar classname = this.properties.showOnClickClass(pos, zindex);\n\t\t\tthis.properties.showOnClickId(pos, zindex, classname);\n\n\t\t},\n\t\tshowOnClickId: function(pos, zindex, classname)\n\t\t{\n\t\t\tvar id = $(this.properties.block).attr('id');\n\t\t\tif (this.opts.properties.show && this.opts.properties.id && typeof id !== 'undefined' && id !== '')\n\t\t\t{\n\t\t\t\tsetTimeout($.proxy(function()\n\t\t\t\t{\n\t\t\t\t\tvar width = (this.opts.properties.classname && typeof classname !== 'undefined' && classname !== '') ? this.properties.labelClass.innerWidth() : -3;\n\t\t\t\t\tthis.properties.labelId.css({\n\n\t\t\t\t\t\tzIndex: zindex,\n\t\t\t\t\t\ttop: pos.top - 13,\n\t\t\t\t\t\tleft: pos.left + width\n\n\t\t\t\t\t}).show().text('#' + id);\n\n\t\t\t\t}, this), 10);\n\t\t\t}\n\t\t},\n\t\tshowOnClickClass: function(pos, zindex)\n\t\t{\n\t\t\tvar classname = $(this.properties.block).attr('class');\n\t\t\tif (this.opts.properties.show && this.opts.properties.classname && typeof classname !== 'undefined' && classname !== '')\n\t\t\t{\n\t\t\t\tthis.properties.labelClass.css({\n\n\t\t\t\t\tzIndex: zindex,\n\t\t\t\t\ttop: pos.top - 13,\n\t\t\t\t\tleft: pos.left - 3\n\n\t\t\t\t}).show().text(classname);\n\t\t\t}\n\n\t\t\treturn classname;\n\t\t},\n\t\thideOnBlur: function(e)\n\t\t{\n\t\t\tif (e.target === this.properties.block)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.properties.hideOnBlurId();\n\t\t\tthis.properties.hideOnBlurClass();\n\n\t\t},\n\t\thideOnBlurId: function()\n\t\t{\n\t\t\tif (this.opts.properties.show && this.opts.properties.id)\n\t\t\t{\n\t\t\t\tthis.properties.labelId.css('z-index', 99).hide();\n\t\t\t}\n\t\t},\n\t\thideOnBlurClass: function()\n\t\t{\n\t\t\tif (this.opts.properties.show && this.opts.properties.classname)\n\t\t\t{\n\t\t\t\tthis.properties.labelClass.css('z-index', 99).hide();\n\t\t\t}\n\t\t}\n\t}\n};\n","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.scriptbuttons = function()\n{\n    return {\n        init: function()\n        {\n            var sup = this.button.add('superscript', 'superscript');\n            var sub = this.button.add('subscript', 'subscript');\n            //this.button.setIcon('superscript', '<i class=\"fa-superscript\"></i>');\n            //this.button.setIcon('subscript', '<i class=\"fa-subscript\"></i>');\n            this.button.setAwesome('superscript', 'fa-superscript');\n            this.button.setAwesome('subscript', 'fa-subscript');\n\n            this.button.addCallback(sup, this.scriptbuttons.formatSup);\n            this.button.addCallback(sub, this.scriptbuttons.formatSub);\n        },\n        formatSup: function()\n        {\n            this.inline.format('sup');\n        },\n        formatSub: function()\n        {\n            this.inline.format('sub');\n        }\n    }\n};\n","/*\n * Uploadcare Redactor plugin (1.1.3)\n */\n\nif (!RedactorPlugins) var RedactorPlugins = {};\n\n(function($) {\n    RedactorPlugins.uploadcare = function() {\n        var $opts;\n        return {\n            init: function() {\n                $opts = this.opts.uploadcare;\n                // defaults\n                if (! $opts.crop) {\n                    $opts.crop = '';\n                }\n                if (! $opts.version) {\n                    $opts.version = '2.5.0';\n                }\n\n                if (typeof uploadcare === 'undefined') {\n                    var widget_url = 'https://ucarecdn.com/widget/' + $opts.version + '/uploadcare/uploadcare.min.js';\n                    $.getScript(widget_url);\n                }\n                var button = this.button.add('image', $opts.buttonLabel || 'Uploadcare');\n                this.button.addCallback(button, this.uploadcare.show);\n\n                // using Font Awesome, sets the default icon\n                // for usage with Semantic UI, change second argument to desired icon class (e.g. 'attach icon')\n                this.button.setAwesome('uploadcare', 'fa-picture-o');\n            },\n\n            show: function() {\n                var dialog = uploadcare.openDialog({}, $opts);\n                this.selection.save();\n                dialog.done(this.uploadcare.done)\n            },\n\n            done: function(data) {\n                var $this = this;\n                var files = $opts.multiple ? data.files() : [data];\n                this.selection.restore();\n                $.when.apply(null, files).done(function() {\n                    $.each(arguments, function() {\n                        if ($.isFunction($opts.uploadCompleteCallback)) {\n                            $opts.uploadCompleteCallback.call($this, this);\n                        } else {\n                            var imageUrl = this.cdnUrl;\n                            if (this.isImage && ! this.cdnUrlModifiers) {\n                                imageUrl += '-/preview/';\n                            }\n                            if (this.isImage) {\n                                $this.insert.html('<img src=\"' + imageUrl + '\" alt=\"' + this.name + '\" />', false);\n                            } else {\n                                $this.insert.html('<a href=\"' + this.cdnUrl + '\">' + this.name + '</a>', false);\n                            }\n                        }\n                  });\n                });\n            },\n        };\n    };\n})(jQuery);\n","if (!RedactorPlugins) var RedactorPlugins = {};\n\nRedactorPlugins.video = function()\n{\n\treturn {\n\t\treUrlYoutube: /https?:\\/\\/(?:[0-9A-Z-]+\\.)?(?:youtu\\.be\\/|youtube\\.com\\S*[^\\w\\-\\s])([\\w\\-]{11})(?=[^\\w\\-]|$)(?![?=&+%\\w.-]*(?:['\"][^<>]*>|<\\/a>))[?=&+%\\w.-]*/ig,\n\t\treUrlVimeo: /https?:\\/\\/(www\\.)?vimeo.com\\/(\\d+)($|\\/)/,\n\t\tgetTemplate: function()\n\t\t{\n\t\t\treturn String()\n\t\t\t+ '<section id=\"redactor-modal-video-insert\">'\n\t\t\t\t+ '<label>' + this.lang.get('video_html_code') + '</label>'\n\t\t\t\t+ '<textarea id=\"redactor-insert-video-area\" style=\"height: 160px;\"></textarea>'\n\t\t\t+ '</section>';\n\t\t},\n\t\tinit: function()\n\t\t{\n\t\t\tvar button = this.button.addAfter('image', 'video', this.lang.get('video'));\n\t\t\tthis.button.addCallback(button, this.video.show);\n\t\t},\n\t\tshow: function()\n\t\t{\n\t\t\tthis.modal.addTemplate('video', this.video.getTemplate());\n\n\t\t\tthis.modal.load('video', this.lang.get('video'), 700);\n\t\t\tthis.modal.createCancelButton();\n\n\t\t\tvar button = this.modal.createActionButton(this.lang.get('insert'));\n\t\t\tbutton.on('click', this.video.insert);\n\n\t\t\tthis.selection.save();\n\t\t\tthis.modal.show();\n\n\t\t\t$('#redactor-insert-video-area').focus();\n\n\t\t},\n\t\tinsert: function()\n\t\t{\n\t\t\tvar data = $('#redactor-insert-video-area').val();\n\t\t\tdata = this.clean.stripTags(data);\n\n\t\t\t// parse if it is link on youtube & vimeo\n\t\t\tvar iframeStart = '<iframe style=\"width: 500px; height: 281px;\" src=\"',\n\t\t\t\tiframeEnd = '\" frameborder=\"0\" allowfullscreen></iframe>';\n\n\t\t\tif (data.match(this.video.reUrlYoutube))\n\t\t\t{\n\t\t\t\tdata = data.replace(this.video.reUrlYoutube, iframeStart + '//www.youtube.com/embed/$1' + iframeEnd);\n\t\t\t}\n\t\t\telse if (data.match(this.video.reUrlVimeo))\n\t\t\t{\n\t\t\t\tdata = data.replace(this.video.reUrlVimeo, iframeStart + '//player.vimeo.com/video/$2' + iframeEnd);\n\t\t\t}\n\n\t\t\tthis.selection.restore();\n\t\t\tthis.modal.close();\n\n\t\t\tvar current = this.selection.getBlock() || this.selection.getCurrent();\n\n\t\t\tif (current) $(current).after(data);\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.insert.html(data);\n\t\t\t}\n\n\t\t\tthis.code.sync();\n\t\t}\n\n\t};\n};",""],"sourceRoot":"/source/"}